##Code and data for the article Vinichenko V., Cherp A., Jewell J. (2021).
Historical precedents and feasibility of rapid coal and gas decline required for 
the 1.5°C target. One Earth.
....

###R code

historical_rates.R - code for calculating historical fossil fuel decline rates based
on electricity generation data

scenario_rates.R - code for calculating fossil fuel decline rates in climate mitigation 
scenarios. Source data for this code should be downloaded from IAMC 1.5°C 
Scenario Explorer (see comments in the file for more details)

feasibility_space.R – code for generating a feasibility space for fossil fuel decline 
based on significant historical episodes of decline

scenario_heatmap.R – code for generating a feasibility heatmap for climate mitigation 
scenarios based on the feasibility space and decline rates in scenarios
  
Notes:
1. Each R file we release can run standalone, provided that the necessary R packages 
(listed within the file) are installed.
2. When running any of the R files, working directory should be set to the directory
containing source data files. See comments and data import statements (read.csv) within
the code to see which source files are required for each piece of code. 
3. Output files generated by the provided code have "_test" in their filenames
to distinguish them from the data files provided by us.

###Datasets

electricity_balances.csv - test data for running historical_rates.R,
the code for calculating historical rates (electricity generation data for 
two fictitious countries). Columns:
* Country - country
* Year - year
* Fuel - fuel or "Total" (total electricity supply) 
* Value (number) - electricity generation from the given source in the given year

significant_episodes.csv – data for 43 significant decline episodes used in producing 
a feasibility space. Columns:
* Episode – episode code (country, period, fuel)
* Country – country (2-character ISO code) or region
* Period – decline period
* Fuel – declining fossil fuel
* Rate – 10-year fossil fuel decline rate
* Demand.Rate – electricity demand change over the same period
* Size – electricity system size (total electricity supply) used in normalizing 
fossil fuel decline rate and demand change rate (in TWh/yr)
 
scenario_rates.csv – fossil fuel decline (change rates) for IPCC 1.5°C- and 2°C-compatible 
scenarios. Columns:
* Model - model
* Scenario - scenario 
Region – region
* Fuel – fossil fuel or "Total" (total electricity supply/demand)
* Period – period
* Rate – 10-year fossil fuel (or demand) decline/change rate
* Size - electricity system size (total electricity supply) used in normalizing
fossil fuel and demand decline/change rate (in TWh/yr)
* Category – scenario category (e.g. LO15C – "low overshoot 1.5°C-compatible")
Type – 1.5C- or 2C-compatible") 

feasibility_map.csv - feasibility space based on significant historical episodes. Columns:
* Xmin, Ymin - coordinates of the bottom left corner of rectangle (X-axis – demand change,
Y-axis – fossil fuel decline)
* Xmax, Ymax - coordinates of the top right left corner of rectangle
* N - number of episodes in the rectangle
* NW - weighted score (number of episodes weighted by log system size)) for the rectangle
* NWA - augmented feasibility score (see Experimental Procedures) for the rectangle
* Zone - feasibility zone code (see Experimental Procedures)


heatmap_full.csv – feasibility heatmap for 1.5C-compatible scenarios. The heatmap contains
fossil fuel decline feasibility scores for each scenario/region/period/fuel (coal and gas) 
combination in 1.5C-compatible pathways. Zone A – multiple historical precedents; 
B – rate precedents; C – no precedents; D – crisis-driven decline. 
Blank cell – fossil fuel decline rate slower than 5% per decade. 
NA – no data for the region in the scenario.

heatmap_summary.csv – summary feasibility heatmap for 1.5°C-compatible scenarios.
Columns with names starting with Max – Summary feasibility scores for 1.5°C-compatible 
pathways. Summary feasibility scores are determined for each fuel/region combination 
in each pathway by choosing the least feasible score among three decades (2020-30, 2030-40, 
and 2040-50); the period to which the score applies is shown in the table (if there are 
several such periods, only the first one is shown). The overall feasibility score 
for a given pathway is determined by choosing the least feasible score across all 
fuel/period/region combinations. No overall score is determined for POLES EMF33 
pathways since they do not include critical regions (Asia and OECD). Zone A – multiple 
historical precedents; B – rate precedents; C – no precedents; D – crisis-driven decline. 
Blank cell – fossil fuel decline rate slower than 5% per decade; in comparing different 
scores, it is considered the most feasible. Zone D is considered less feasible than 
zones A and B, but more feasible than zone C. NA – no data for the region in the scenario. 
See Experimental Procedures for more details.

heatmap_scenarios.xlsx - a version of the feasibility heatmap in MS Excel format 
(with color-coded cells). See description within the file. Full and summary heatmaps in
different sheets.
